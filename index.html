<!DOCTYPE html>
<html>
<head>
  <title>Fix Merah Web Cinematic + Progress Bar</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* Login Box */
    .box { 
      width: 300px; 
      padding: 25px; 
      background: rgba(0,0,0,0.5);
      border-radius:10px; 
      box-shadow:0 0 15px rgba(0,0,0,0.5);
      color: #fff;
      text-align: center;
      z-index: 10;
      position: relative;
    }

    .title {
      font-weight:bold;
      font-size: 20px;
      color: rgba(255,255,255,0.9);
      margin-bottom: 15px;
    }

    input { 
      width:100%; 
      padding:10px; 
      margin-top:10px; 
      border:none; 
      outline:none; 
      border-radius:5px;
    }

    button { 
      width:100%; 
      padding:10px; 
      margin-top:20px; 
      border:none; 
      background:#fff;
      color:#000; 
      font-weight:bold; 
      cursor:pointer; 
      border-radius:5px;
    }

    #msg { margin-top:10px; color:#ff4444; text-align:center; }

    /* Video Overlay cinematic */
    .videoOverlay {
      position: fixed;
      top:0; left:0;
      width:100vw;
      height:100vh;
      background: url('https://files.catbox.moe/ocsxya.jpg') center center/cover no-repeat;
      display:flex;
      flex-direction: column;
      justify-content:center;
      align-items:center;
      z-index: 9999;
      opacity: 0;
      transition: opacity 2s ease;
      backdrop-filter: blur(15px);
    }

    .videoOverlay.show { opacity:1; }
    .videoOverlay.hide { opacity:0; }

    .videoOverlay video {
      width: auto;
      height: 90vh;
      object-fit: contain;
      border-radius:10px;
      box-shadow:0 0 30px rgba(0,0,0,0.7);
      z-index: 10;
    }

    /* progress bar */
    .progressContainer {
      width: 60%;
      height: 6px;
      background: rgba(255,255,255,0.3);
      border-radius: 3px;
      margin-top: 15px;
      overflow: hidden;
    }

    .progressBar {
      width: 0%;
      height: 100%;
      background: #00ffea;
      transition: width 0.1s linear;
    }

    /* Main content */
    .content {
      opacity: 0;
      transform: translateY(20px);
      transition: all 1.5s ease;
      text-align: center;
      color: white;
      position: absolute;
      width: 100%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateY(20px);
    }

    .content.show {
      opacity: 1;
      transform: translate(-50%, -50%) translateY(0);
    }

  </style>
</head>
<body>

<!-- Login Box -->
<div class="box" id="loginBox">
  <h2 class="title">Masukan user & key</h2>
  <input type="text" id="user" placeholder="Username">
  <input type="password" id="pass" placeholder="Key">
  <button onclick="login()">LOGIN</button>
  <p id="msg"></p>
</div>

<!-- Main Content -->
<div class="content" id="mainContent">
  <h1>Selamat Datang!</h1>
  <p>Konten utama muncul setelah animasi cinematic.</p>
</div>

<script>
async function login() {
  const u = document.getElementById("user").value.trim();
  const p = document.getElementById("pass").value.trim();
  const msg = document.getElementById("msg");

  try {
    const res = await fetch("adduser.txt");
    if (!res.ok) { msg.innerHTML = "File adduser.txt tidak ditemukan!"; return; }
    const text = await res.text();
    const lines = text.split("\n").map(l => l.trim()).filter(l => l);

    let found = false;
    for (let line of lines) {
      const parts = line.split(":");
      if(parts.length!==2) continue;
      if(u===parts[0].trim() && p===parts[1].trim()) { found=true; break; }
    }

    if(found){
      document.getElementById("loginBox").style.display="none";

      // buat overlay video cinematic
      const overlay = document.createElement("div");
      overlay.className="videoOverlay";

      const video=document.createElement("video");
      video.autoplay=true;
      video.muted=true;
      video.playsInline=true;

      const source=document.createElement("source");
      source.src="https://files.catbox.moe/qjlti5.mp4";
      source.type="video/mp4";

      video.appendChild(source);
      overlay.appendChild(video);

      // progress bar
      const progressContainer = document.createElement("div");
      progressContainer.className="progressContainer";
      const progressBar = document.createElement("div");
      progressBar.className="progressBar";
      progressContainer.appendChild(progressBar);
      overlay.appendChild(progressContainer);

      document.body.appendChild(overlay);

      setTimeout(()=>overlay.classList.add("show"),50); // fade in

      // update progress bar
      video.addEventListener("timeupdate", () => {
        const percent = (video.currentTime / video.duration) * 100;
        progressBar.style.width = percent + "%";
      });

      video.onended = ()=>{
        overlay.classList.remove("show");
        overlay.classList.add("hide");

        setTimeout(()=>{
          document.getElementById("mainContent").classList.add("show");
        }, 2000); // tunggu fade out selesai
      };
    } else {
      msg.innerHTML="User atau Key salah!";
    }

  } catch(e){
    msg.innerHTML="Terjadi error saat membaca file!";
  }
}
</script>

</body>
  </html>
